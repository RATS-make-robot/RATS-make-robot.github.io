<!-- index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="명지대학교 중앙동아리 RATS">
    <meta property="og:title" content="RATS website">
    <meta property="og:type" content="website">
    <meta property="og:description" content="명지대학교 중앙동아리 RATS">
    <meta property="og:image" content="assets/images/site/logo.png">
    <meta property="og:url" content="https://join.mju-rats.com/">
    <title>RATS Website</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <!-- Include header -->
    <div id="header">
        <!-- Header content will be dynamically included -->
        <script>
            fetch('header.html').then(res => res.text()).then(data => document.getElementById('header').innerHTML = data);
        </script>
    </div>

    <div align="center">
        <h3>명지대학교 로봇, 임베디드 중앙동아리</h3>
        <h4><i>Since 199</i>3</h4>
    </div>

    <!-- Include navigation -->
    <div id="navigation">
        <!-- Navigation content will be dynamically included -->
        <script>
            fetch('nav.html').then(res => res.text()).then(data => document.getElementById('navigation').innerHTML = data);
        </script>
    </div>

    <main>
        <!-- Include about -->
        <div id="about">
            <!-- About content will be dynamically included -->
            <script>
fetch('about.html')
    .then(res => res.text())
    .then(data => {
        // 'about'에 로드된 내용을 삽입
        document.getElementById('about').innerHTML = data;

        // 로드된 후 'code-display' 요소를 가져와 애니메이션 초기화
        const typingElement = document.getElementById("code-display");
        if (!typingElement) {
            console.error("Element with ID 'code-display' not found.");
            return;
        }

        // Initialize typing animation
        initializeTypingAnimation(typingElement);
    })
    .catch(error => console.error('Error loading about.html:', error));

function initializeTypingAnimation(typingElement) {
    const sentences = [
        "로봇을 개발합니다.",
        "앱도 개발합니다.",
        "임베디드 설계도 합니다.",
        "게임도 합니다.",
        "세미나도 합니다."
    ];

    const languages = [
        { language: "C", comment: "//", output: `<span class='keyword'>printf</span>(<span class='string'>\"{sentence}\\n\"</span>);` },
        { language: "Python", comment: "#", output: `<span class='keyword'>print</span>(<span class='string'>\"{sentence}\"</span>)` },
        { language: "Java", comment: "//", output: `<span class='keyword'>System.out.println</span>(<span class='string'>\"{sentence}\"</span>);` },
        { language: "HTML<span class='language-comment'>--&gt;</span>", comment: "&lt;!--", outputs: [
            "<span class='tag'>&lt;h1&gt;</span>{sentence}<span class='tag'>&lt;/h1&gt;</span> ",
            "<span class='tag'>&lt;p&gt;</span>{sentence}<span class='tag'>&lt;/p&gt;</span> <span class='language-comment'>--&gt;</span>"
        ]}
    ];

    let currentSentenceIndex = 0;
    let currentLanguage = languages[Math.floor(Math.random() * languages.length)];
    let randomOutput = currentLanguage.outputs[Math.floor(Math.random() * currentLanguage.outputs.length)];
    let charIndex = 0;
    let isDeleting = false;
    let currentOutput = "";

    const cursor = `<span class="cursor"></span>`;

    function typeEffect() {
        typingElement.innerHTML = typingElement.innerHTML.replace(cursor, "");

        const currentSentence = sentences[currentSentenceIndex];
        if (currentLanguage.language === "HTML") {
            //const randomOutput = currentLanguage.outputs[Math.floor(Math.random() * currentLanguage.outputs.length)];
            currentOutput = randomOutput.replace("{sentence}", currentSentence);
        } else {
            currentOutput = currentLanguage.output.replace("{sentence}", currentSentence);
        }

        if (!isDeleting && charIndex <= currentOutput.length) {
            typingElement.innerHTML = `<span class="language-comment">${currentLanguage.comment}</span> <span class="language-comment">${currentLanguage.language}</span>\n` +
                currentOutput.slice(0, charIndex) + cursor;
            charIndex++;
            setTimeout(typeEffect, 25);
        } else if (isDeleting && charIndex >= 0) {
            typingElement.innerHTML = `<span class="language-comment">${currentLanguage.comment}</span> <span class="language-comment">${currentLanguage.language}</span>\n` +
                currentOutput.slice(0, charIndex) + cursor;
            charIndex--;
            setTimeout(typeEffect, 10);
        } else {
            isDeleting = !isDeleting;

            if (!isDeleting) {
                currentSentenceIndex = (currentSentenceIndex + 1) % sentences.length;
                currentLanguage = languages[Math.floor(Math.random() * languages.length)];
                charIndex = 0;
                setTimeout(typeEffect, 250);
            } else {
                setTimeout(typeEffect, 1000);
            }
        }
    }

    typeEffect();
}


            </script>
        </div>
        <!-- Include skills -->
        <div id="skills">
            <!-- Skills content will be dynamically included -->
            <script>
                fetch('skills.html').then(res => res.text()).then(data => document.getElementById('skills').innerHTML = data);
            </script>
        </div>

        <!-- Include experiences -->
        <div id="experiences">
            <!-- Experiences content will be dynamically included -->
            <script>
                fetch('experiences.html').then(res => res.text()).then(data => document.getElementById('experiences').innerHTML = data);
            </script>
        </div>

        <!-- Include projects -->
        <div id="projects">
            <!-- Projects content will be dynamically included -->
            <script>
                fetch('projects.html').then(res => res.text()).then(data => document.getElementById('projects').innerHTML = data);
            </script>
        </div>


        <!-- Include seminars -->
        <div id="seminars">
            <!-- Seminars content will be dynamically included -->
            <script>
                fetch('seminars.html').then(res => res.text()).then(data => document.getElementById('seminars').innerHTML = data);
            </script>
        </div>

        <!-- Include contact -->
        <div id="contact">
            <!-- Contact content will be dynamically included -->
            <script>
                fetch('contact.html').then(res => res.text()).then(data => document.getElementById('contact').innerHTML = data);
            </script>
        </div>
    </main>
    <!-- Include footer -->
    <div id="footer">
        <!-- Footer content will be dynamically included -->
        <script>
            fetch('footer.html').then(res => res.text()).then(data => document.getElementById('footer').innerHTML = data);
        </script>
    </div>

<!--<script src="assets/js/about-animation.js"></script> -->
    <!-- Include the JS-YAML library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <!-- Include the script -->
    <script src="assets/js/load_projects.js"></script>
    <!-- Include seminar loading script -->
    <script src="assets/js/load_seminars.js"></script>
    <script src="assets/js/load_experiences.js"></script>
    <script src="assets/js/filter_projects.js"></script>
</body>
</html>